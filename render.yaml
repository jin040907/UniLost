# Render Deployment Configuration File
# Render automatically reads settings from this file if present

services:
  - type: web
    name: unilost
    env: node
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: SESSION_SECRET
        generateValue: true  # Automatically generate random secret
      # To use PostgreSQL, you must set the DATABASE_URL environment variable.
      # Method 1: Create a PostgreSQL database in Render dashboard and "Link" it to the web service for automatic configuration
      # Method 2: For external PostgreSQL (Neon), uncomment below and set the connection string
      # For detailed setup instructions, see: docs/DATABASE_SETUP.md
      # - key: DATABASE_URL
      #   value: postgresql://user:password@host:5432/database
      #
      # ⚠️ Important: If DATABASE_URL is not set, SQLite (app/unilost.db) will be used.
      # To use PostgreSQL, you must set DATABASE_URL!
    healthCheckPath: /
